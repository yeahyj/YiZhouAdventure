# 列表組件

## 前置条件
[游戏引擎](https://www.cocos.com/en/creator-download)
[开发框架](https://github.com/a1076559139/cocos-creator-frame-3d)

## 特别说明
本扩展包基于 https://github.com/gh-kL/cocoscreator-list 制作，特此鸣谢原作者的开源贡献。
相较于原作者组件，添加了一些事件，方便使用 node on 监听，如下：
create-item 事件，item创建时触发，只会被创建一次，可以在这里做一些初始化操作
update-item 事件，更新时触发，会复用创建 item，需要要刷新item数据，更新ui
select-item 事件，被选择时触发

详细说明和使用案例可参考原作者 Github

## 使用案例
```TS
import { ListView } from 'db://pkg/@colayue/cc-comp-list-view';

@ccclass('CustomItem')
export class CustomItem extends Component {
    @property(Label)
    label1: Label = null;

    @property(Label)
    label2: Label = null;

    // 真实创建的 item
    setLabel1(text: string) {
        this.label1.string = text;
    }

    // 虚拟的 item
    setLabel2(text: string) {
        this.label2.string = text;
    }
}

@ccclass('test')
export class test extends Component {
    @property(ListView)
    list: ListView = null;
    private createCount = 0;
    start() {
        this.list.node.on('create-item', (item) => {
            this.createCount++;
            let customItem = item.getComponent(CustomItem);
            customItem?.setLabel1(this.createCount.toString());
        });
        this.list.node.on('update-item', (item, index) => {
            // console.log(item, index);
            let customItem = item.getComponent(CustomItem);
            customItem?.setLabel2(index.toString());
        });
        this.list.count = 100;
    }

    update(deltaTime: number) {}
}
...
```
